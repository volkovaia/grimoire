<!-- src/main/resources/templates/layout.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Система заклинаний</title>

    <!-- Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <!-- Google Fonts: загадочный шрифт -->
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* Магический фон */
        body {
          background: #0c0b1d url('https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center fixed;
          background-size: cover;
          color: #e0d6c5;
          font-family: 'Cinzel', serif;
          margin: 0;
          padding: 0;
          min-height: 100vh;
          position: relative;
        }

        body::before {
          content: "";
          position: absolute;
          top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(10, 8, 20, 0.85); /* Тёмная полупрозрачная вуаль */
          z-index: -1;
        }

        /* Контент по центру */
        .container {
          max-width: 1000px;
          margin: 20px auto;
          padding: 20px;
        }

        /* Заголовки */
        h1, h2, h3 {
          font-family: 'Alfa Slab One', cursive;
          color: #d4af37; /* Золотой цвет */
          text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
          margin-bottom: 20px;
        }

        /* Навигация */
        nav {
          background: rgba(20, 15, 40, 0.7);
          padding: 12px 20px;
          border-bottom: 1px solid #5d4037;
          border-radius: 8px;
          margin-bottom: 25px;
        }

        nav a {
          color: #e0d6c5;
          text-decoration: none;
          margin-right: 20px;
          font-size: 1.1em;
          transition: color 0.3s;
        }

        nav a:hover {
          color: #d4af37;
          text-shadow: 0 0 8px rgba(212, 175, 55, 0.8);
        }

        nav a i {
          margin-right: 6px;
        }

        /* Таблицы */
        table {
          width: 100%;
          border-collapse: collapse;
          background: rgba(25, 20, 45, 0.8);
          border-radius: 8px;
          overflow: hidden;
          margin: 15px 0;
        }

        th, td {
          padding: 12px 15px;
          text-align: left;
          border-bottom: 1px solid #4a3a6b;
        }

        th {
          background: rgba(40, 30, 70, 0.9);
          color: #d4af37;
          font-weight: bold;
        }

        tr:hover {
          background: rgba(50, 40, 90, 0.6);
        }

        /* Кнопки и ссылки */
        .btn, a.btn {
          display: inline-block;
          background: #5d4037;
          color: #e0d6c5;
          padding: 8px 16px;
          text-decoration: none;
          border-radius: 6px;
          border: 1px solid #8d6e63;
          font-family: 'Cinzel', serif;
          transition: all 0.3s;
        }

        .btn:hover, a.btn:hover {
          background: #d4af37;
          color: #0c0b1d;
          border-color: #d4af37;
          text-shadow: none;
        }

        /* Формы */
        input, select {
          width: 100%;
          padding: 10px;
          margin: 6px 0;
          background: rgba(30, 25, 50, 0.9);
          border: 1px solid #5d4037;
          color: #e0d6c5;
          border-radius: 4px;
          font-family: 'Cinzel', serif;
        }

        button[type="submit"] {
          background: #5d4037;
          color: #e0d6c5;
          padding: 10px 20px;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-family: 'Cinzel', serif;
          font-weight: bold;
          transition: background 0.3s;
        }

        button[type="submit"]:hover {
          background: #d4af37;
          color: #0c0b1d;
        }

        /* Сообщения */
        .message {
          padding: 12px;
          margin: 15px 0;
          border-radius: 6px;
          font-weight: bold;
        }

        .message.success { background: rgba(76, 175, 80, 0.2); color: #a5d6a7; }
        .message.error { background: rgba(244, 67, 54, 0.2); color: #ef9a9a; }

        /* Footer */
        footer {
          text-align: center;
          margin-top: 40px;
          color: #8d7a65;
          font-size: 0.9em;
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <nav>
            <a th:if="${session.wizard != null}" href="/dashboard">
                <i class="fas fa-book"></i> Кабинет
            </a>
            <a th:if="${session.wizard != null}" href="/spells/all">
                <i class="fas fa-magic"></i> Заклинания
            </a>
            <a th:if="${session.wizard != null}" href="/artifacts">
                <i class="fas fa-crown"></i> Артефакты
            </a>
            <a th:if="${session.wizard != null}" href="/history">
                <i class="fas fa-scroll"></i> История
            </a>
            <a th:if="${session.wizard != null}" href="/spell-cast">
                <i class="fas fa-fight"></i> Наложение заклинаний
            </a>
            <a th:if="${session.wizard != null}" href="/logout">
                <i class="fas fa-door-open"></i> Выйти
            </a>
        </nav>
    </header>

    <main>
        <div th:replace="${content}"></div>
    </main>

    <footer>
        <p>Система учёта заклинаний • Министерство Магии</p>
    </footer>
</div>
</body>
</html>